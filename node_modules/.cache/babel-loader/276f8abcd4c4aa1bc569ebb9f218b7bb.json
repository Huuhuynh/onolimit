{"ast":null,"code":"var _jsxFileName = \"D:\\\\Web\\\\onolimit\\\\src\\\\component\\\\order\\\\addOrder.tsx\";\nimport React from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport '../home/Home.css';\nimport axios from 'axios';\nimport { ColumnDirective, ColumnsDirective, GridComponent } from '@syncfusion/ej2-react-grids';\nimport { Edit, Inject, Toolbar } from '@syncfusion/ej2-react-grids';\nimport { DatePickerComponent } from '@syncfusion/ej2-react-calendars';\nimport { ComboBoxComponent } from '@syncfusion/ej2-react-dropdowns';\n\nclass AddOrder extends React.Component {\n  constructor(props) {\n    super(props);\n    this.dateValue = new Date();\n    this.editOptions = {\n      allowEditing: true,\n      allowAdding: true,\n      allowDeleting: true,\n      mode: 'Normal'\n    };\n    this.toolbarOptions = ['Add', 'Edit', 'Delete', 'Update', 'Cancel'];\n\n    this.changeHandler = e => {\n      let dataOrder = this.state.order;\n      dataOrder[e.target.name] = e.target.value;\n      this.setState(this.state.order); //console.log(\"order\")\n    };\n\n    this.handleOptionChange = e => {\n      let dataOrder = this.state.order;\n      dataOrder[\"Warehouse\"] = parseInt(e.target.value);\n      this.setState({\n        order: dataOrder\n      });\n    };\n\n    this.onChange = e => {\n      let dataOrder = this.state.order;\n      dataOrder[\"Status\"] = parseInt(e.value);\n      this.setState({\n        order: dataOrder\n      });\n    };\n\n    this.submitHandler = e => {\n      let dataOrder = this.state.order;\n      dataOrder.UserId = this.state.userid;\n      e.preventDefault();\n      this.setState({});\n      axios.post('http://api.o-nolimit.com/Admin/Api/Order/InsertOrder', this.state, {\n        headers: {\n          'Content-Type': 'application/json',\n          \"Token\": this.state.token\n        }\n      }).then(response => {\n        if (response.status == 201) {\n          alert(\"Thêm mới đơn hàng thành công!\");\n          this.refreshPage();\n        } else {\n          alert(response.statusText);\n        }\n      }).catch(error => {\n        alert(error);\n      });\n    };\n\n    this.fields = {\n      text: 'Name',\n      value: 'Id'\n    };\n    this.state = {\n      lstDetail: [],\n      order: {\n        OrderId: 0,\n        OrderCode: this.guid(),\n        UserId: 0,\n        OrderDate: this.dateValue,\n        Note: \"\",\n        Warehouse: 1,\n        VISIBLE: true,\n        Status: 1\n      },\n      lstStatus: [{\n        \"Id\": 1,\n        \"Name\": \"Đang mua hàng\"\n      }, {\n        \"Id\": 2,\n        \"Name\": \"Đã mua hàng\"\n      }, {\n        \"Id\": 3,\n        \"Name\": \"Đã thanh toán\"\n      }],\n      token: sessionStorage.getItem('Token'),\n      showEdit: false,\n      userid: sessionStorage.getItem('UserId')\n    };\n  }\n\n  guid() {\n    return 'xxxxxyyyyx'.replace(/[xy]/g, function (c) {\n      var r = Math.random() * 16 | 0,\n          v = c == 'x' ? r : r & 0x3 | 0x8;\n      return v.toString(16).toUpperCase();\n    });\n  }\n\n  refreshPage() {\n    window.location.reload();\n  }\n\n  changes() {\n    this.setState({\n      showEdit: true\n    });\n  }\n\n  getYear() {\n    return new Date().getFullYear();\n  }\n\n  render() {\n    const _this$state$order = this.state.order,\n          OrderId = _this$state$order.OrderId,\n          OrderCode = _this$state$order.OrderCode,\n          UserId = _this$state$order.UserId,\n          OrderDate = _this$state$order.OrderDate,\n          Note = _this$state$order.Note,\n          Warehouse = _this$state$order.Warehouse,\n          VISIBLE = _this$state$order.VISIBLE,\n          Status = _this$state$order.Status;\n    return React.createElement(\"div\", {\n      className: \"modal\",\n      id: \"myModalAdd\",\n      role: \"dialog\",\n      \"aria-hidden\": \"true\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"modal-dialog modal-lg\",\n      role: \"document\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"modal-content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"modal-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      style: {\n        width: \"98%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, \"Th\\xEAm \\u0111\\u01A1n h\\xE0ng\"), React.createElement(\"button\", {\n      type: \"button\",\n      className: \"close\",\n      \"data-dismiss\": \"modal\",\n      \"aria-label\": \"Close\",\n      style: {\n        width: \"2%\"\n      },\n      onClick: () => {\n        this.refreshPage();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      \"aria-hidden\": \"true\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, \"\\xD7\"))), React.createElement(\"form\", {\n      onSubmit: this.submitHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"modal-body p-4\",\n      id: \"result\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-sm-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, \"M\\xE3 \\u0111\\u01A1n h\\xE0ng:\"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      name: \"OrderCode\",\n      required: true,\n      value: OrderCode,\n      onChange: this.changeHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"col-sm-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, \"Ng\\xE0y \\u0111\\u1EB7t:\"), React.createElement(DatePickerComponent, {\n      id: \"datepicker\",\n      value: this.state.order.OrderDate,\n      format: \"yyyy-MM-dd\",\n      placeholder: \"Enter date\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"col-sm-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, \"T\\xECnh tr\\u1EA1ng:\"), React.createElement(ComboBoxComponent, {\n      id: \"games\",\n      readonly: true,\n      dataSource: this.state.lstStatus,\n      fields: this.fields,\n      change: this.onChange,\n      placeholder: \"Select a game\",\n      value: Status,\n      popupHeight: \"220px\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-sm-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, \"M\\xE3 kho kh\\xE1ch\")), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      className: \"radio-inline\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"radio\",\n      value: \"1\",\n      onChange: this.handleOptionChange,\n      checked: Warehouse === 1,\n      name: \"Warehouse\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }), \"Kho A\"), React.createElement(\"label\", {\n      className: \"radio-inline\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"radio\",\n      value: \"2\",\n      onChange: this.handleOptionChange,\n      checked: Warehouse === 2,\n      name: \"Warehouse\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }), \"Kho B\"), React.createElement(\"label\", {\n      className: \"radio-inline\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"radio\",\n      value: \"3\",\n      onChange: this.handleOptionChange,\n      checked: Warehouse === 3,\n      name: \"Warehouse\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }), \"Kho C\"))), React.createElement(\"div\", {\n      className: \"col-sm-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, \"Ghi ch\\xFA:\"), React.createElement(\"textarea\", {\n      className: \"form-control\",\n      id: \"comment\",\n      name: \"Note\",\n      required: true,\n      value: Note,\n      onChange: this.changeHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      className: \"line\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      id: \"styleInput\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }, React.createElement(GridComponent, {\n      dataSource: this.state.lstDetail,\n      editSettings: this.editOptions,\n      toolbar: this.toolbarOptions,\n      height: 265,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }, React.createElement(ColumnsDirective, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    }, React.createElement(ColumnDirective, {\n      field: \"ProductCode\",\n      headerText: \"M\\xE3 tr\\u1EA1ng th\\xE1i\",\n      width: \"100\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192\n      },\n      __self: this\n    }), React.createElement(ColumnDirective, {\n      field: \"Color\",\n      headerText: \"M\\xE0u\",\n      width: \"100\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }), React.createElement(ColumnDirective, {\n      field: \"Size\",\n      headerText: \"Size\",\n      width: \"100\",\n      format: \"C2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }), React.createElement(ColumnDirective, {\n      field: \"Quantity\",\n      headerText: \"S\\u1ED1 l\\u01B0\\u1EE3ng\",\n      width: \"100\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    }), React.createElement(ColumnDirective, {\n      field: \"OrderPrice\",\n      headerText: \"Gi\\xE1 \\u0111\\u1EB7t\",\n      width: \"100\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    }), React.createElement(ColumnDirective, {\n      field: \"PurchasePrice\",\n      headerText: \"Gi\\xE1 mua\",\n      width: \"100\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    }), React.createElement(ColumnDirective, {\n      field: \"Rate\",\n      headerText: \"T\\u1EF7 gi\\xE1\",\n      width: \"100\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    })), React.createElement(Inject, {\n      services: [Edit, Toolbar],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"line\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"modal-footer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-primary\",\n      onClick: i => {\n        this.submitHandler(i);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    }, \"Th\\xEAm \\u0111\\u01A1n h\\xE0ng\")))))));\n  }\n\n}\n\nexport default AddOrder;","map":{"version":3,"sources":["D:\\Web\\onolimit\\src\\component\\order\\addOrder.tsx"],"names":["React","axios","ColumnDirective","ColumnsDirective","GridComponent","Edit","Inject","Toolbar","DatePickerComponent","ComboBoxComponent","AddOrder","Component","constructor","props","dateValue","Date","editOptions","allowEditing","allowAdding","allowDeleting","mode","toolbarOptions","changeHandler","e","dataOrder","state","order","target","name","value","setState","handleOptionChange","parseInt","onChange","submitHandler","UserId","userid","preventDefault","post","headers","token","then","response","status","alert","refreshPage","statusText","catch","error","fields","text","lstDetail","OrderId","OrderCode","guid","OrderDate","Note","Warehouse","VISIBLE","Status","lstStatus","sessionStorage","getItem","showEdit","replace","c","r","Math","random","v","toString","toUpperCase","window","location","reload","changes","getYear","getFullYear","render","width","i"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport '../home/Home.css';\r\nimport axios from 'axios';\r\nimport { any } from 'prop-types';\r\nimport { ColumnDirective, ColumnsDirective, GridComponent } from '@syncfusion/ej2-react-grids';\r\nimport { Edit, EditSettingsModel, Inject, Toolbar, ToolbarItems } from '@syncfusion/ej2-react-grids';\r\nimport { DatePickerComponent } from '@syncfusion/ej2-react-calendars';\r\nimport { ComboBoxComponent, ChangeEventArgs } from '@syncfusion/ej2-react-dropdowns';\r\n\r\n\r\nclass AddOrder extends React.Component<any, any> {\r\n    private dateValue= new Date();\r\n    public editOptions: EditSettingsModel = { allowEditing: true, allowAdding: true, allowDeleting: true, mode: 'Normal' };\r\n    public toolbarOptions: ToolbarItems[] = ['Add', 'Edit', 'Delete', 'Update', 'Cancel'];\r\n    constructor(props:any) {\r\n        super(props);\r\n        this.state = {\r\n                lstDetail: [],\r\n                order: {\r\n                    OrderId: 0,\r\n                    OrderCode: this.guid(),\r\n                    UserId: 0,\r\n                    OrderDate: this.dateValue,\r\n                    Note: \"\",\r\n                    Warehouse:1,\r\n                    VISIBLE: true,\r\n                    Status: 1                \r\n            },\r\n          lstStatus:\r\n          [\r\n            {\r\n              \"Id\" :1,\r\n              \"Name\":\"Đang mua hàng\"\r\n            },\r\n            {\r\n                \"Id\" :2,\r\n                \"Name\":\"Đã mua hàng\"\r\n            },\r\n            {\r\n                \"Id\" :3,\r\n                \"Name\":\"Đã thanh toán\"\r\n            },\r\n\r\n        ],\r\n          token: sessionStorage.getItem('Token'),\r\n          showEdit: false,\r\n          userid: sessionStorage.getItem('UserId'),\r\n        };\r\n      }\r\n      guid() {\r\n        return 'xxxxxyyyyx'.replace(/[xy]/g, function(c) {\r\n          var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);\r\n          return v.toString(16).toUpperCase();\r\n        });\r\n      }\r\n      \r\n      changeHandler=(e: any)=>{ \r\n        let dataOrder = this.state.order;\r\n        dataOrder[e.target.name] = e.target.value;\r\n        this.setState(this.state.order);\r\n        //console.log(\"order\")\r\n      }\r\n      handleOptionChange =(e: any)=> {\r\n        let dataOrder = this.state.order;\r\n        dataOrder[\"Warehouse\"] = parseInt(e.target.value);\r\n        this.setState({order : dataOrder});\r\n      }\r\n      onChange =(e: any)=> {\r\n        let dataOrder = this.state.order;\r\n        dataOrder[\"Status\"] = parseInt(e.value);\r\n        this.setState({order : dataOrder});\r\n      }\r\n\r\n      refreshPage(){ \r\n        window.location.reload();\r\n        }\r\n      submitHandler = (e: any) =>{\r\n        let dataOrder = this.state.order;\r\n        dataOrder.UserId=this.state.userid;\r\n        e.preventDefault()\r\n        this.setState({})\r\n        axios\r\n        .post('http://api.o-nolimit.com/Admin/Api/Order/InsertOrder', this.state,\r\n        { headers: { 'Content-Type': 'application/json' ,\r\n                      \"Token\": this.state.token} }\r\n        )\r\n        .then(response =>{\r\n            if(response.status==201)\r\n            {\r\n                alert(\"Thêm mới đơn hàng thành công!\");\r\n                this.refreshPage();\r\n            }\r\n            else  \r\n            {\r\n              alert(response.statusText);\r\n            }\r\n        })\r\n        .catch(error =>{\r\n            alert(error);\r\n        })\r\n      }\r\n \r\n      changes(){\r\n        this.setState({showEdit: true});\r\n      }\r\n      getYear() {\r\n        return new Date().getFullYear();\r\n    }\r\n    \r\n    private fields: object = { text: 'Name', value: 'Id' };\r\n    render(){\r\n        const {\r\n            OrderId,\r\n            OrderCode,\r\n            UserId ,\r\n            OrderDate ,\r\n            Note ,\r\n            Warehouse,\r\n            VISIBLE ,\r\n            Status \r\n         } =  this.state.order;\r\n         \r\n        return (\r\n            <div className=\"modal\" id=\"myModalAdd\"  role=\"dialog\" aria-hidden=\"true\">\r\n            <div className=\"modal-dialog modal-lg\" role=\"document\">\r\n                <div className=\"modal-content\">\r\n                    <div className=\"modal-header\">\r\n                        <h2 style={{width: \"98%\"}}>Thêm đơn hàng</h2>\r\n                        <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" style={{width: \"2%\"}}\r\n                        onClick={()=>{this.refreshPage()}}>\r\n                            <span aria-hidden=\"true\">×</span>\r\n                        </button>\r\n                    </div>\r\n                    <form  onSubmit={this.submitHandler}>\r\n                <div className=\"modal-body p-4\" id=\"result\">\r\n                         <div className=\"row\">\r\n                             <div className=\"col-sm-6\"> \r\n                                 <div className=\"form-group\">\r\n                                     <label >Mã đơn hàng:</label>\r\n                                     <input type=\"text\" className=\"form-control\"  \r\n                                        name=\"OrderCode\" \r\n                                        required value={OrderCode} \r\n                                        onChange={this.changeHandler} />\r\n                                 </div>  \r\n                                 \r\n                             </div>\r\n                             <div className=\"col-sm-3\">\r\n                                <div className=\"form-group\">\r\n                                     <label >Ngày đặt:</label>\r\n                                        <DatePickerComponent id=\"datepicker\"  value={this.state.order.OrderDate} format='yyyy-MM-dd' placeholder='Enter date' />\r\n                                 </div>\r\n                             </div>\r\n                             <div className=\"col-sm-3\">\r\n                                <div className=\"form-group\">\r\n                                     <label>Tình trạng:</label>\r\n                                     <ComboBoxComponent id=\"games\" readonly={ true } dataSource={this.state.lstStatus} fields={this.fields} change={this.onChange} placeholder=\"Select a game\" value={ Status } popupHeight=\"220px\" />\r\n                                 </div>\r\n                             </div>\r\n                         </div>\r\n                         <div className=\"row\">\r\n                            <div className=\"col-sm-6\">\r\n                                <div className=\"form-group\">\r\n                                    <label ><b>Mã kho khách</b></label><br/>\r\n                                    <label className=\"radio-inline\">\r\n                                        <input type=\"radio\" value=\"1\" onChange={this.handleOptionChange} checked={ Warehouse===1 } name=\"Warehouse\"/>Kho A\r\n                                    </label>\r\n                                    <label className=\"radio-inline\">\r\n                                        <input type=\"radio\" value=\"2\" onChange={this.handleOptionChange} checked={ Warehouse===2 } name=\"Warehouse\"/>Kho B\r\n                                    </label>\r\n                                    <label className=\"radio-inline\">\r\n                                        <input type=\"radio\" value=\"3\" onChange={this.handleOptionChange} checked={ Warehouse===3 } name=\"Warehouse\"/>Kho C\r\n                                    </label>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"col-sm-6\">\r\n                                <div className=\"form-group\">\r\n                                    <label>Ghi chú:</label>\r\n                                    <textarea className=\"form-control\" id=\"comment\" \r\n                                    name=\"Note\" \r\n                                    required value={Note} \r\n                                    onChange={this.changeHandler}\r\n                                    ></textarea>\r\n                                </div>\r\n                            </div>\r\n                         </div>\r\n                     \r\n                     <div className=\"line\"></div>\r\n                      <div id=\"styleInput\">\r\n                         <GridComponent dataSource={this.state.lstDetail} editSettings={this.editOptions} toolbar={this.toolbarOptions} height={265}>\r\n                            <ColumnsDirective>\r\n                                <ColumnDirective field='ProductCode' headerText='Mã trạng thái' width='100' />\r\n                                <ColumnDirective field='Color' headerText='Màu' width='100' />\r\n                                <ColumnDirective field='Size' headerText='Size' width='100' format=\"C2\" />\r\n                                <ColumnDirective field='Quantity' headerText='Số lượng' width='100' />\r\n                                <ColumnDirective field='OrderPrice' headerText='Giá đặt' width='100' />\r\n                                <ColumnDirective field='PurchasePrice' headerText='Giá mua' width='100' />\r\n                                <ColumnDirective field='Rate' headerText='Tỷ giá' width='100' />\r\n                            </ColumnsDirective>\r\n                            <Inject services={[Edit, Toolbar]} />\r\n                        </GridComponent>\r\n                     </div>\r\n                     <div className=\"line\"></div>\r\n                     <br/>\r\n                     <div className=\"modal-footer\">\r\n                        <button type=\"submit\" className=\"btn btn-primary\" onClick={(i)=>{this.submitHandler(i)}}>Thêm đơn hàng</button>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n           \r\n        );\r\n    }\r\n\r\n\r\n}\r\n\r\nexport default AddOrder;"]},"metadata":{},"sourceType":"module"}