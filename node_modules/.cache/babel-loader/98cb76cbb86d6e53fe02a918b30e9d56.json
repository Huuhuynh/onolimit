{"ast":null,"code":"var _jsxFileName = \"D:\\\\Web\\\\onolimit\\\\src\\\\component\\\\order\\\\detailOrder.tsx\";\nimport React from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport '../home/Home.css';\nimport { any } from 'prop-types';\nimport queryString from 'query-string';\nimport axios from 'axios';\n\nclass DetailOrder extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.changeHandler = e => {\n      let data = this.state.data;\n      data[e.target.name] = e.target.value;\n      this.setState({\n        data: data\n      });\n    };\n\n    this.submitHandler = e => {\n      //\n      e.preventDefault(); //console.log(this.state.data);\n\n      const values = queryString.parse(this.props.location.search);\n      const headers = {\n        'Content-Type': 'application/json',\n        'Token': this.state.token\n      };\n\n      if (values.OrderId == \"0\") {\n        axios.post('http://api.o-nolimit.com/Admin/Api/Order/InsertOrder', this.state.data).then(response => {\n          if (response.status == 201) {\n            alert(\"Thêm mới đơn hàng thành công!\");\n          } else {\n            alert(response.statusText);\n          }\n        }).catch(error => {\n          alert(error);\n        });\n      } else {\n        axios.put('http://api.o-nolimit.com/Admin/Api/Order/UpdateOrder', this.state.data, {\n          headers: headers\n        }).then(response => {\n          if (response.status == 200) {\n            alert(\"Chỉnh sửa thông tin đơn hàng thành công!\");\n            window.location.href = window.location.href;\n          } else {\n            alert(response.statusText);\n          }\n        }).catch(error => {\n          alert(error);\n        });\n      }\n    };\n\n    this.state = {\n      data: {\n        \"order\": {\n          \"OrderId\": 0,\n          \"OrderCode\": \"\",\n          \"UserId\": 0,\n          \"OrderDate\": \"\",\n          \"Note\": \"\",\n          \"VISIBLE\": true,\n          \"Status\": \"\"\n        },\n        \"lstDetail\": [{\n          \"OrderId\": 0,\n          \"OrderDetailId\": 0,\n          \"Link\": \"\",\n          \"ProductCode\": \"\",\n          \"Color\": \"\",\n          \"Size\": \"\",\n          \"Quantity\": any,\n          \"OrderPrice\": any,\n          \"PurchasePrice\": any,\n          \"Rate\": any,\n          \"Note\": \"\"\n        }]\n      },\n      token: sessionStorage.getItem('Token')\n    };\n  }\n\n  componentDidMount() {\n    const values = queryString.parse(this.props.location.search);\n    fetch('http://api.o-nolimit.com/Admin/Api/Order/GetOrder?NO_TRA_MAS' + values.OrderId, {\n      headers: new Headers({\n        \"Token\": this.state.token\n      })\n    }).then(response => response.json()).then(data => this.setState({\n      data\n    })).catch(e => {\n      console.log(e);\n      return e;\n    });\n  }\n\n  dataListDetail() {\n    return this.state.dataDetail.map((item, i) => React.createElement(\"tr\", {\n      key: i,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      scope: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, item.ProductCode), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, item.Color), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, item.Size), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, item.Quantity), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, item.OrderPrice), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, item.PurchasePrice), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, item.Rate), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, item.Note)));\n  }\n\n  render() {\n    const _this$state$data$orde = this.state.data.order,\n          OrderId = _this$state$data$orde.OrderId,\n          OrderCode = _this$state$data$orde.OrderCode,\n          UserId = _this$state$data$orde.UserId,\n          OrderDate = _this$state$data$orde.OrderDate,\n          Note = _this$state$data$orde.Note,\n          VISIBLE = _this$state$data$orde.VISIBLE,\n          Status = _this$state$data$orde.Status;\n    const _this$state$data$lstD = this.state.data.lstDetail,\n          OrderDetailId = _this$state$data$lstD.OrderDetailId,\n          Link = _this$state$data$lstD.Link,\n          ProductCode = _this$state$data$lstD.ProductCode,\n          Color = _this$state$data$lstD.Color,\n          Size = _this$state$data$lstD.Size,\n          Quantity = _this$state$data$lstD.Quantity,\n          OrderPrice = _this$state$data$lstD.OrderPrice,\n          PurchasePrice = _this$state$data$lstD.PurchasePrice,\n          Rate = _this$state$data$lstD.Rate;\n    return React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"modal-body p-4\",\n      id: \"result\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-sm-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, \"M\\xE3 \\u0111\\u01A1n h\\xE0ng:\"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, \"Ng\\xE0y:\"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      value: this.state.data.OrderDate,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, \"Tr\\u1EA1ng th\\xE1i:\"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      value: this.state.data.Status,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"col-sm-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"col-sm-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, \"Ghi ch\\xFA:\"), React.createElement(\"textarea\", {\n      className: \"form-control\",\n      rows: 10,\n      id: \"comment\",\n      value: this.state.data.Note,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      className: \"line\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }), React.createElement(\"table\", {\n      className: \"table table-bordered table-striped\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }, \"M\\xE3 tr\\u1EA1ng th\\xE1i\"), React.createElement(\"th\", {\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }, \"M\\xE0u\"), React.createElement(\"th\", {\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }, \"Size\"), React.createElement(\"th\", {\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, \"S\\u1ED1 l\\u01B0\\u1EE3ng\"), React.createElement(\"th\", {\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }, \"Gi\\xE1 \\u0111\\u01A1n h\\xE0ng\"), React.createElement(\"th\", {\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }, \"Gi\\xE1 mua\"), React.createElement(\"th\", {\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }, \"T\\u1EF7 l\\u1EC7\"), React.createElement(\"th\", {\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }, \"Ghi ch\\xFA\"))), React.createElement(\"tbody\", {\n      className: \"height-tbody\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"modal-footer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-sm-1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"col-sm-11\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-primary\",\n      \"data-dismiss\": \"modal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    }, \"Quay l\\u1EA1i\")))));\n  }\n\n}\n\nexport default DetailOrder;","map":{"version":3,"sources":["D:\\Web\\onolimit\\src\\component\\order\\detailOrder.tsx"],"names":["React","any","queryString","axios","DetailOrder","Component","constructor","props","changeHandler","e","data","state","target","name","value","setState","submitHandler","preventDefault","values","parse","location","search","headers","token","OrderId","post","then","response","status","alert","statusText","catch","error","put","window","href","sessionStorage","getItem","componentDidMount","fetch","Headers","json","console","log","dataListDetail","dataDetail","map","item","i","ProductCode","Color","Size","Quantity","OrderPrice","PurchasePrice","Rate","Note","render","order","OrderCode","UserId","OrderDate","VISIBLE","Status","lstDetail","OrderDetailId","Link"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport '../home/Home.css';\r\nimport { any } from 'prop-types';\r\nimport queryString from 'query-string';\r\nimport axios from 'axios';\r\n\r\nclass DetailOrder extends React.Component<any, any> {\r\n    constructor(props:any) {\r\n        super(props);\r\n        this.state = {\r\n          data: {\r\n            \"order\": {\r\n                \"OrderId\": 0,\r\n                \"OrderCode\": \"\",\r\n                \"UserId\": 0,\r\n                \"OrderDate\": \"\",\r\n                \"Note\": \"\",\r\n                \"VISIBLE\": true,\r\n                \"Status\": \"\"\r\n            },\r\n            \"lstDetail\": [\r\n                {\r\n                    \"OrderId\": 0,\r\n                    \"OrderDetailId\": 0,\r\n                    \"Link\": \"\",\r\n                    \"ProductCode\": \"\",\r\n                    \"Color\": \"\",\r\n                    \"Size\": \"\",\r\n                    \"Quantity\": any,\r\n                    \"OrderPrice\": any,\r\n                    \"PurchasePrice\": any,\r\n                    \"Rate\": any,\r\n                    \"Note\": \"\"\r\n                },\r\n            ]\r\n          },\r\n          token: sessionStorage.getItem('Token')\r\n        };\r\n      }\r\n\r\n      componentDidMount() {\r\n        const values = queryString.parse(this.props.location.search);\r\n        fetch('http://api.o-nolimit.com/Admin/Api/Order/GetOrder?NO_TRA_MAS'+ values.OrderId,\r\n        {headers:new Headers ({\r\n            \"Token\": this.state.token,\r\n        })}\r\n        )\r\n            .then(response => response.json())\r\n            .then(data => this.setState({ data }))\r\n            .catch(e => {\r\n                console.log(e);\r\n                return e;\r\n            });\r\n      }\r\n      changeHandler=(e: any)=>{\r\n        let data = this.state.data;\r\n        data[e.target.name] = e.target.value;\r\n        this.setState({data : data});\r\n      }\r\n      submitHandler = (e: any) =>{\r\n        //\r\n        e.preventDefault();\r\n        //console.log(this.state.data);\r\n        const values = queryString.parse(this.props.location.search);\r\n        const headers = {\r\n            'Content-Type': 'application/json',\r\n            'Token': this.state.token\r\n          }\r\n        if(values.OrderId==\"0\")\r\n        {\r\n            axios.post('http://api.o-nolimit.com/Admin/Api/Order/InsertOrder', this.state.data)\r\n            .then(response =>{\r\n              if(response.status==201)\r\n              {\r\n                  alert(\"Thêm mới đơn hàng thành công!\");\r\n              }\r\n              else  \r\n              {\r\n                alert(response.statusText);\r\n              }\r\n            })\r\n            .catch(error =>{\r\n              alert(error);\r\n            });\r\n        }\r\n        else    \r\n        {\r\n            axios.put('http://api.o-nolimit.com/Admin/Api/Order/UpdateOrder', this.state.data,\r\n            {\r\n                headers : headers\r\n            }).then(response =>{\r\n              if(response.status==200)\r\n              {\r\n                  alert(\"Chỉnh sửa thông tin đơn hàng thành công!\");\r\n                  window.location.href= window.location.href ;\r\n              }\r\n              else  \r\n              {\r\n                alert(response.statusText);\r\n              }\r\n            })\r\n            .catch(error =>{\r\n              alert(error);\r\n            });\r\n        }\r\n        \r\n        \r\n      }\r\n\r\n      \r\n      dataListDetail() {\r\n        return(\r\n          this.state.dataDetail.map((item: any, i: any)=>\r\n                  <tr  key = {i} >\r\n                      <th  scope=\"row\">{item.ProductCode}</th>\r\n                      <td >{item.Color}</td>\r\n                      <td >{item.Size}</td>\r\n                      <td >{item.Quantity}</td>\r\n                      <td >{item.OrderPrice}</td>\r\n                      <td >{item.PurchasePrice}</td>\r\n                      <td >{item.Rate}</td>\r\n                      <td >{item.Note}</td>\r\n                  </tr>\r\n              )\r\n        );\r\n  }\r\n    render(){\r\n        const {\r\n            OrderId,\r\n            OrderCode,\r\n            UserId ,\r\n            OrderDate ,\r\n            Note ,\r\n            VISIBLE ,\r\n            Status \r\n         } =  this.state.data.order;\r\n         const {\r\n            OrderDetailId,\r\n            Link,\r\n            ProductCode ,\r\n            Color ,\r\n            Size ,\r\n            Quantity ,\r\n            OrderPrice ,\r\n            PurchasePrice,\r\n            Rate\r\n         } =  this.state.data.lstDetail;\r\n        return (\r\n            <form>\r\n                <div className=\"modal-body p-4\" id=\"result\">\r\n                   \r\n                         <div className=\"row\">\r\n                             <div className=\"col-sm-5\"> \r\n                                 <div className=\"form-group\">\r\n                                     <label >Mã đơn hàng:</label>\r\n                                     <input type=\"text\" className=\"form-control\"   />\r\n                                 </div>  \r\n                                 <div className=\"form-group\">\r\n                                     <label >Ngày:</label>\r\n                                     <input type=\"text\" className=\"form-control\" value={this.state.data.OrderDate}/>\r\n                                 </div>\r\n                                 <div className=\"form-group\">\r\n                                     <label >Trạng thái:</label>\r\n                                     <input type=\"text\" className=\"form-control\" value={this.state.data.Status}/>\r\n                                 </div>\r\n                             </div>\r\n                             <div className=\"col-sm-2\"></div>\r\n                             <div className=\"col-sm-5\">\r\n                                 <div className=\"form-group\">\r\n                                     <label >Ghi chú:</label>\r\n                                     <textarea className=\"form-control\" rows={10} id=\"comment\" value={this.state.data.Note}></textarea>\r\n                                 </div>\r\n                             </div>\r\n                         </div>\r\n                     \r\n                     <div className=\"line\"></div>\r\n                     <table className=\"table table-bordered table-striped\">\r\n                         <thead>\r\n                             <tr>\r\n                             <th scope=\"col\">Mã trạng thái</th>\r\n                             <th scope=\"col\">Màu</th>\r\n                             <th scope=\"col\">Size</th>\r\n                             <th scope=\"col\">Số lượng</th>\r\n                             <th scope=\"col\">Giá đơn hàng</th>\r\n                             <th scope=\"col\">Giá mua</th>\r\n                             <th scope=\"col\">Tỷ lệ</th>\r\n                             <th scope=\"col\">Ghi chú</th>\r\n                             </tr>\r\n                         </thead>\r\n                         <tbody className=\"height-tbody\" >\r\n                            {/* {this.dataListDetail()} */}\r\n                         </tbody>\r\n                     </table>\r\n                     \r\n\r\n                </div>\r\n                <div className=\"modal-footer\">\r\n                    {/* <button type=\"button\" className=\"btn btn-secondary\" data-dismiss=\"modal\">OK</button> */}\r\n                    <div className=\"row\">\r\n                         <div className=\"col-sm-1\">\r\n                             {/* <button type=\"submit\" className=\"btn btn-primary\">Hủy</button> */}\r\n                         </div>\r\n                         <div className=\"col-sm-11\">\r\n                             <button type=\"submit\" className=\"btn btn-primary\" data-dismiss=\"modal\">Quay lại</button>\r\n                         </div>\r\n                     </div>\r\n                </div>\r\n            </form>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default DetailOrder;\r\n"]},"metadata":{},"sourceType":"module"}