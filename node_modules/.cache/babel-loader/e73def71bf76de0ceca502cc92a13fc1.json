{"ast":null,"code":"var _jsxFileName = \"D:\\\\Web\\\\onolimit\\\\src\\\\component\\\\order\\\\detailOrder.tsx\";\nimport React from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport '../home/Home.css';\nimport { any } from 'prop-types';\nimport queryString from 'query-string';\nimport axios from 'axios';\nimport './order.css';\n\nclass DetailOrder extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.changeHandlerDetail = e => {\n      let dataLstDetail = this.state.lstDetail;\n      dataLstDetail[e.target.name] = e.target.value;\n      this.setState(this.state.lstDetail);\n      console.log(this.state.lstDetail);\n    };\n\n    this.changeHandler = e => {\n      let dataOrder = this.state.order;\n      dataOrder[e.target.name] = e.target.value;\n      this.setState(this.state.order);\n      console.log(this.state.order);\n    };\n\n    this.submitHandler = e => {\n      //\n      e.preventDefault(); //console.log(this.state.data);\n\n      const values = queryString.parse(this.props.location.search);\n      const headers = {\n        'Content-Type': 'application/json',\n        'Token': this.state.token\n      };\n      axios.put('http://api.o-nolimit.com/Admin/Api/Order/UpdateOrder', this.state, {\n        headers: headers\n      }).then(response => {\n        if (response.status == 200) {\n          alert(\"Chỉnh sửa thông tin đơn hàng thành công!\");\n          window.location.href = window.location.href;\n        } else {\n          alert(response.statusText);\n        }\n      }).catch(error => {\n        alert(error);\n      });\n    };\n\n    this.state = {\n      order: {\n        \"OrderId\": any,\n        \"OrderCode\": \"\",\n        \"UserId\": any,\n        \"OrderDate\": \"\",\n        \"Note\": \"\",\n        \"VISIBLE\": true,\n        \"Status\": \"\"\n      },\n      lstDetail: [{\n        \"OrderId\": any,\n        \"OrderDetailId\": any,\n        \"Link\": \"\",\n        \"ProductCode\": \"\",\n        \"Color\": \"\",\n        \"Size\": \"\",\n        \"Quantity\": any,\n        \"OrderPrice\": any,\n        \"PurchasePrice\": any,\n        \"Rate\": any,\n        \"Note\": \"\"\n      }],\n      token: sessionStorage.getItem('Token'),\n      showEdit: false\n    };\n  }\n\n  componentDidMount() {\n    const values = queryString.parse(this.props.location.search);\n    fetch('http://api.o-nolimit.com/Admin/Api/Order/GetOrderMaster?NO_TRA_MAS=' + values.OrderId, {\n      headers: new Headers({\n        \"Token\": this.state.token\n      })\n    }).then(response => response.json()).then(order => this.setState({\n      order\n    })).catch(e => {\n      console.log(e);\n      return e;\n    });\n    fetch('http://api.o-nolimit.com/Admin/Api/Order/GetOrderDetail?NO_TRA_MAS=' + values.OrderId, {\n      headers: new Headers({\n        \"Token\": this.state.token\n      })\n    }).then(response => response.json()).then(lstDetail => this.setState({\n      lstDetail\n    })).catch(e => {\n      console.log(e);\n      return e;\n    });\n  }\n\n  pushTable() {\n    var row = {\n      \"OrderId\": 0,\n      \"OrderDetailId\": 0,\n      \"Link\": \"\",\n      \"ProductCode\": \"\",\n      \"Color\": \"\",\n      \"Size\": \"\",\n      \"Quantity\": any,\n      \"OrderPrice\": any,\n      \"PurchasePrice\": any,\n      \"Rate\": any,\n      \"Note\": \"\"\n    };\n    this.state.lstDetail.push(row);\n    this.setState(this.state.lstDetail);\n  }\n\n  changes() {\n    this.setState({\n      showEdit: true\n    });\n  }\n\n  render() {\n    const _this$state$order = this.state.order,\n          OrderId = _this$state$order.OrderId,\n          OrderCode = _this$state$order.OrderCode,\n          UserId = _this$state$order.UserId,\n          OrderDate = _this$state$order.OrderDate,\n          Note = _this$state$order.Note,\n          VISIBLE = _this$state$order.VISIBLE,\n          Status = _this$state$order.Status;\n    const _this$state$lstDetail = this.state.lstDetail,\n          OrderDetailId = _this$state$lstDetail.OrderDetailId,\n          Link = _this$state$lstDetail.Link,\n          ProductCode = _this$state$lstDetail.ProductCode,\n          Color = _this$state$lstDetail.Color,\n          Size = _this$state$lstDetail.Size,\n          Quantity = _this$state$lstDetail.Quantity,\n          OrderPrice = _this$state$lstDetail.OrderPrice,\n          PurchasePrice = _this$state$lstDetail.PurchasePrice,\n          Rate = _this$state$lstDetail.Rate;\n    return React.createElement(\"form\", {\n      onSubmit: this.submitHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"modal-body p-4\",\n      id: \"result\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-sm-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, \"M\\xE3 \\u0111\\u01A1n h\\xE0ng:\"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      name: \"OrderCode\",\n      value: OrderCode,\n      onChange: this.changeHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, \"Ng\\xE0y:\"), React.createElement(\"input\", {\n      type: \"date\",\n      className: \"form-control\",\n      name: \"OrderDate\",\n      value: OrderDate,\n      onChange: this.changeHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, \"Tr\\u1EA1ng th\\xE1i:\"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      name: \"Status\",\n      value: Status,\n      onChange: this.changeHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"col-sm-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"col-sm-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }, \"Ghi ch\\xFA:\"), React.createElement(\"textarea\", {\n      className: \"form-control\",\n      rows: 10,\n      id: \"comment\",\n      name: \"Note\",\n      value: Note,\n      onChange: this.changeHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      className: \"line\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    }), React.createElement(\"table\", {\n      className: \"table table-bordered table-striped\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    }, \"M\\xE3 tr\\u1EA1ng th\\xE1i\"), React.createElement(\"th\", {\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201\n      },\n      __self: this\n    }, \"M\\xE0u\"), React.createElement(\"th\", {\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202\n      },\n      __self: this\n    }, \"Size\"), React.createElement(\"th\", {\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203\n      },\n      __self: this\n    }, \"S\\u1ED1 l\\u01B0\\u1EE3ng\"), React.createElement(\"th\", {\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    }, \"Gi\\xE1 \\u0111\\u01A1n h\\xE0ng\"), React.createElement(\"th\", {\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    }, \"Gi\\xE1 mua\"), React.createElement(\"th\", {\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    }, \"T\\u1EF7 l\\u1EC7\"))), React.createElement(\"tbody\", {\n      className: \"height-tbody\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209\n      },\n      __self: this\n    }, this.state.lstDetail.map((item, i) => React.createElement(\"tr\", {\n      key: i,\n      id: \"styleInput\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      //   defaultValue={}\n      name: \"ProductCode\",\n      value: item.ProductCode,\n      onChange: this.changeHandlerDetail,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    })), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      defaultValue: item.Color,\n      name: \"Color\",\n      value: Color,\n      onChange: this.changeHandlerDetail,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221\n      },\n      __self: this\n    })), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      defaultValue: item.Size,\n      name: \"Size\",\n      value: Size,\n      onChange: this.changeHandlerDetail,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228\n      },\n      __self: this\n    })), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      defaultValue: item.Quantity,\n      name: \"Quantity\",\n      value: Quantity,\n      onChange: this.changeHandlerDetail,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235\n      },\n      __self: this\n    })), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      defaultValue: item.OrderPrice,\n      name: \"OrderPrice\",\n      value: OrderPrice,\n      onChange: this.changeHandlerDetail,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242\n      },\n      __self: this\n    })), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      defaultValue: item.PurchasePrice,\n      name: \"PurchasePrice\",\n      value: PurchasePrice,\n      onChange: this.changeHandlerDetail,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249\n      },\n      __self: this\n    })), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      defaultValue: item.Rate,\n      name: \"Rate\",\n      value: Rate,\n      onChange: this.changeHandlerDetail,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256\n      },\n      __self: this\n    })))))), React.createElement(\"div\", {\n      className: \"line\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-sm-1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: () => {\n        this.pushTable();\n      },\n      type: \"button\",\n      className: \"btn btn-primary\",\n      \"data-dismiss\": \"modal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270\n      },\n      __self: this\n    }, \"+\")), React.createElement(\"div\", {\n      className: \"col-sm-11\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-primary\",\n      \"data-dismiss\": \"modal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273\n      },\n      __self: this\n    }, \"L\\u01B0u\")))));\n  }\n\n}\n\nexport default DetailOrder;","map":{"version":3,"sources":["D:\\Web\\onolimit\\src\\component\\order\\detailOrder.tsx"],"names":["React","any","queryString","axios","DetailOrder","Component","constructor","props","changeHandlerDetail","e","dataLstDetail","state","lstDetail","target","name","value","setState","console","log","changeHandler","dataOrder","order","submitHandler","preventDefault","values","parse","location","search","headers","token","put","then","response","status","alert","window","href","statusText","catch","error","sessionStorage","getItem","showEdit","componentDidMount","fetch","OrderId","Headers","json","pushTable","row","push","changes","render","OrderCode","UserId","OrderDate","Note","VISIBLE","Status","OrderDetailId","Link","ProductCode","Color","Size","Quantity","OrderPrice","PurchasePrice","Rate","map","item","i"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport '../home/Home.css';\r\nimport { any } from 'prop-types';\r\nimport queryString from 'query-string';\r\nimport axios from 'axios';\r\nimport './order.css';\r\n\r\nclass DetailOrder extends React.Component<any, any> {\r\n    constructor(props:any) {\r\n        super(props);\r\n        this.state = {\r\n            order: {\r\n                \"OrderId\": any,\r\n                \"OrderCode\": \"\",\r\n                \"UserId\": any,\r\n                \"OrderDate\": \"\",\r\n                \"Note\": \"\",\r\n                \"VISIBLE\": true,\r\n                \"Status\": \"\"\r\n            },\r\n            lstDetail: [\r\n                {\r\n                    \"OrderId\": any,\r\n                    \"OrderDetailId\": any,\r\n                    \"Link\": \"\",\r\n                    \"ProductCode\": \"\",\r\n                    \"Color\": \"\",\r\n                    \"Size\": \"\",\r\n                    \"Quantity\": any,\r\n                    \"OrderPrice\": any,\r\n                    \"PurchasePrice\": any,\r\n                    \"Rate\": any,\r\n                    \"Note\": \"\"\r\n                },\r\n            ],\r\n          token: sessionStorage.getItem('Token'),\r\n          showEdit: false\r\n        };\r\n      }\r\n\r\n      componentDidMount() {\r\n        const values = queryString.parse(this.props.location.search);\r\n        fetch('http://api.o-nolimit.com/Admin/Api/Order/GetOrderMaster?NO_TRA_MAS='+ values.OrderId,\r\n        {headers:new Headers ({\r\n            \"Token\": this.state.token,\r\n        })}\r\n        )\r\n            .then(response => response.json())\r\n            .then(order => this.setState({ order }))\r\n            .catch(e => {\r\n                console.log(e);\r\n                return e;\r\n            });\r\n\r\n            fetch('http://api.o-nolimit.com/Admin/Api/Order/GetOrderDetail?NO_TRA_MAS='+ values.OrderId,\r\n        {headers:new Headers ({\r\n            \"Token\": this.state.token,\r\n        })}\r\n        )\r\n            .then(response => response.json())\r\n            .then(lstDetail => this.setState({ lstDetail }))\r\n            .catch(e => {\r\n                console.log(e);\r\n                return e;\r\n            });\r\n      }\r\n\r\n      changeHandlerDetail=(e: any)=>{ \r\n        let dataLstDetail = this.state.lstDetail;\r\n        dataLstDetail[e.target.name] = e.target.value;\r\n        this.setState(this.state.lstDetail);\r\n        console.log(this.state.lstDetail)\r\n      }\r\n      changeHandler=(e: any)=>{ \r\n            let dataOrder = this.state.order;\r\n            dataOrder[e.target.name] = e.target.value;\r\n            this.setState(this.state.order);\r\n            console.log(this.state.order)\r\n      }\r\n\r\n      pushTable(){\r\n          var row = {\r\n                        \"OrderId\": 0,\r\n                        \"OrderDetailId\": 0,\r\n                        \"Link\": \"\",\r\n                        \"ProductCode\": \"\",\r\n                        \"Color\": \"\",\r\n                        \"Size\": \"\",\r\n                        \"Quantity\": any,\r\n                        \"OrderPrice\": any,\r\n                        \"PurchasePrice\": any,\r\n                        \"Rate\": any,\r\n                        \"Note\": \"\"\r\n          }\r\n          this.state.lstDetail.push(row);\r\n          this.setState(this.state.lstDetail);\r\n      }\r\n\r\n\r\n      submitHandler = (e: any) =>{\r\n        //\r\n        e.preventDefault();\r\n        //console.log(this.state.data);\r\n        const values = queryString.parse(this.props.location.search);\r\n        const headers = {\r\n            'Content-Type': 'application/json',\r\n            'Token': this.state.token\r\n          }\r\n            axios.put('http://api.o-nolimit.com/Admin/Api/Order/UpdateOrder', this.state,\r\n            {\r\n                headers : headers\r\n            }).then(response =>{\r\n              if(response.status==200)\r\n              {\r\n                  alert(\"Chỉnh sửa thông tin đơn hàng thành công!\");\r\n                  window.location.href= window.location.href ;\r\n              }\r\n              else  \r\n              {\r\n                alert(response.statusText);\r\n              }\r\n            })\r\n            .catch(error =>{\r\n              alert(error);\r\n            });\r\n\r\n      }\r\n      changes(){\r\n        this.setState({showEdit: true});\r\n      }\r\n    render(){\r\n        const {\r\n            OrderId,\r\n            OrderCode,\r\n            UserId ,\r\n            OrderDate ,\r\n            Note ,\r\n            VISIBLE ,\r\n            Status \r\n         } =  this.state.order;\r\n         const {\r\n            OrderDetailId,\r\n            Link,\r\n            ProductCode ,\r\n            Color ,\r\n            Size ,\r\n            Quantity ,\r\n            OrderPrice ,\r\n            PurchasePrice,\r\n            Rate,\r\n         } =  this.state.lstDetail;\r\n        return (\r\n            <form onSubmit={this.submitHandler}>\r\n                <div className=\"modal-body p-4\" id=\"result\">\r\n                   \r\n                         <div className=\"row\">\r\n                             <div className=\"col-sm-5\"> \r\n                                 <div className=\"form-group\">\r\n                                     <label >Mã đơn hàng:</label>\r\n                                     <input type=\"text\" className=\"form-control\"  \r\n                                        name=\"OrderCode\" \r\n                                        value={OrderCode} \r\n                                        onChange={this.changeHandler} />\r\n                                 </div>  \r\n                                 <div className=\"form-group\">\r\n                                     <label >Ngày:</label>\r\n                                     <input type=\"date\" className=\"form-control\"\r\n                                        name=\"OrderDate\" \r\n                                        value={OrderDate} \r\n                                        onChange={this.changeHandler}\r\n                                    />\r\n                                 </div>\r\n                                 <div className=\"form-group\">\r\n                                     <label >Trạng thái:</label>\r\n                                     <input type=\"text\" className=\"form-control\" \r\n                                        name=\"Status\" \r\n                                        value={Status} \r\n                                        onChange={this.changeHandler}\r\n                                     />\r\n                                 </div>\r\n                             </div>\r\n                             <div className=\"col-sm-2\"></div>\r\n                             <div className=\"col-sm-5\">\r\n                                 <div className=\"form-group\">\r\n                                     <label >Ghi chú:</label>\r\n                                     <textarea className=\"form-control\" rows={10} id=\"comment\" \r\n                                        name=\"Note\" \r\n                                        value={Note} \r\n                                        onChange={this.changeHandler}\r\n                                     ></textarea>\r\n                                 </div>\r\n                             </div>\r\n                         </div>\r\n                     \r\n                     <div className=\"line\"></div>\r\n                     <table className=\"table table-bordered table-striped\">\r\n                         <thead>\r\n                             <tr>\r\n                             <th scope=\"col\">Mã trạng thái</th>\r\n                             <th scope=\"col\">Màu</th>\r\n                             <th scope=\"col\">Size</th>\r\n                             <th scope=\"col\">Số lượng</th>\r\n                             <th scope=\"col\">Giá đơn hàng</th>\r\n                             <th scope=\"col\">Giá mua</th>\r\n                             <th scope=\"col\">Tỷ lệ</th>\r\n                             </tr>\r\n                         </thead>\r\n                         <tbody className=\"height-tbody\" >\r\n                            {\r\n                                 this.state.lstDetail.map((item: any, i: any)=>\r\n                                 <tr  key = {i} id=\"styleInput\">\r\n\r\n                                     <td ><input\r\n                                    //   defaultValue={}\r\n                                      name=\"ProductCode\" \r\n                                      value={item.ProductCode} \r\n                                      onChange={this.changeHandlerDetail}\r\n                                     ></input></td>\r\n\r\n                                     <td ><input\r\n                                     defaultValue={item.Color}\r\n                                      name=\"Color\" \r\n                                      value={Color} \r\n                                      onChange={this.changeHandlerDetail}\r\n                                     ></input></td>\r\n\r\n                                     <td ><input\r\n                                      defaultValue={item.Size}\r\n                                      name=\"Size\" \r\n                                      value={Size} \r\n                                      onChange={this.changeHandlerDetail}\r\n                                     ></input></td>\r\n\r\n                                     <td ><input\r\n                                     defaultValue={item.Quantity}\r\n                                      name=\"Quantity\" \r\n                                      value={Quantity} \r\n                                      onChange={this.changeHandlerDetail}\r\n                                     ></input></td>\r\n\r\n                                     <td ><input\r\n                                     defaultValue={item.OrderPrice}\r\n                                      name=\"OrderPrice\" \r\n                                      value={OrderPrice} \r\n                                      onChange={this.changeHandlerDetail}\r\n                                     ></input></td>\r\n\r\n                                     <td ><input\r\n                                     defaultValue={item.PurchasePrice}\r\n                                      name=\"PurchasePrice\" \r\n                                      value={PurchasePrice} \r\n                                      onChange={this.changeHandlerDetail}\r\n                                     ></input></td>\r\n\r\n                                     <td ><input\r\n                                      defaultValue={item.Rate}\r\n                                      name=\"Rate\" \r\n                                      value={Rate} \r\n                                      onChange={this.changeHandlerDetail}\r\n                                     ></input></td>\r\n                                 </tr>\r\n                             )\r\n                            }\r\n                         </tbody>\r\n                     </table>\r\n                     <div className=\"line\"></div>\r\n                     <div className=\"row\">\r\n                         <div className=\"col-sm-1\">\r\n                         <button  onClick={() => {this.pushTable()}} type=\"button\" className=\"btn btn-primary\" data-dismiss=\"modal\">+</button>\r\n                         </div>\r\n                         <div className=\"col-sm-11\">\r\n                             <button type=\"submit\" className=\"btn btn-primary\" data-dismiss=\"modal\">Lưu</button>\r\n                         </div>\r\n                     </div>\r\n\r\n                </div>\r\n                {/* <div className=\"modal-footer\">\r\n                    <div className=\"row\">\r\n                         <div className=\"col-sm-1\">\r\n                         </div>\r\n                         <div className=\"col-sm-11\">\r\n                             <button type=\"submit\" className=\"btn btn-primary\" data-dismiss=\"modal\">Lưu</button>\r\n                         </div>\r\n                     </div>\r\n                </div> */}\r\n            </form>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default DetailOrder;\r\n"]},"metadata":{},"sourceType":"module"}